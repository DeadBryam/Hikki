[
  {
    "name": "Forgot Password",
    "what_it_does": "Requests a password reset email",
    "when_to_use": "When user forgot their password and needs to reset it",
    "how_to_use": "Send POST request with email address. Sends reset link if email exists.",
    "path": "/api/v1/auth/forgot-password",
    "method": "POST",
    "requires_auth": false,
    "tags": ["Password Reset"],
    "request": {
      "body": {
        "email": {
          "type": "string",
          "required": true,
          "description": "User's email address",
          "example": "john@example.com"
        }
      }
    },
    "responses": {
      "200": {
        "description": "Password reset email sent (or appears to send even if email not found for security)",
        "body": {
          "success": {
            "type": "boolean",
            "required": true,
            "description": "Always true on success"
          },
          "message": {
            "type": "string",
            "required": true,
            "description": "Success message"
          }
        }
      }
    },
    "rate_limit": {
      "requests": 3,
      "window": "1 hour",
      "description": "Prevent abuse"
    }
  },
  {
    "name": "Reset Password",
    "what_it_does": "Resets user password using a reset token",
    "when_to_use": "After clicking password reset link in email",
    "how_to_use": "Send POST with token and new password.",
    "path": "/api/v1/auth/reset-password",
    "method": "POST",
    "requires_auth": false,
    "tags": ["Password Reset"],
    "request": {
      "body": {
        "token": {
          "type": "string",
          "required": true,
          "description": "Password reset token from email",
          "example": "reset_abc123..."
        },
        "password": {
          "type": "string",
          "required": true,
          "description": "New password",
          "constraints": "8-128 characters",
          "example": "NewSecurePass456!"
        }
      }
    },
    "responses": {
      "200": {
        "description": "Password reset successful",
        "body": {
          "success": {
            "type": "boolean",
            "required": true,
            "description": "Always true on success"
          },
          "message": {
            "type": "string",
            "required": true,
            "description": "Success message"
          }
        }
      },
      "400": { "description": "Invalid or expired token" }
    }
  },
  {
    "name": "Validate Reset Token",
    "what_it_does": "Checks if a password reset token is valid",
    "when_to_use": "Before showing password reset form to verify token",
    "how_to_use": "Send GET request with token query param.",
    "path": "/api/v1/auth/validate-reset-token",
    "method": "GET",
    "requires_auth": false,
    "tags": ["Password Reset"],
    "request": {
      "query": {
        "token": {
          "type": "string",
          "required": true,
          "description": "Password reset token",
          "example": "reset_abc123..."
        }
      }
    },
    "responses": {
      "200": {
        "description": "Token is valid",
        "body": {
          "success": {
            "type": "boolean",
            "required": true,
            "description": "Always true"
          },
          "data": {
            "type": "object",
            "required": true,
            "description": "Token validation result"
          }
        }
      },
      "400": { "description": "Invalid or expired token" }
    }
  }
]
